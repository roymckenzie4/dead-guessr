(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(2),c=n.n(s),u=(n(12),n(6)),o=n(3),i=n.n(o),l=n(5),d=n(1);var f=function(e){return Object(a.useEffect)(function(){var t=function(t){e.handleKeyUp(t)};return window.document.addEventListener("keyup",t),function(){window.document.removeEventListener("keyup",t)}},[]),null};var m=function(e){return e.oldGuesses.map(function(t){return r.a.createElement("div",{className:"date-row"},[0,1,2,3].map(function(n){return r.a.createElement("div",{key:t+n,className:t.charAt(n)==e.trueYear.charAt(n)?"date-box date-box-correct":"date-box date-box-old"},t.charAt(n))}))})};var b=function(e){return e.wonRound?null==e.songData.songYear?r.a.createElement("div",{className:"text"},"Hit Enter to Begin"):r.a.createElement("div",{className:"text"},"Yes! It was ",e.songData.songTitle," from  ",e.songData.songDate,"  at ",e.songData.songLocation,r.a.createElement("br",null),"Hit enter to play again..."):r.a.createElement("div",{className:"date-row"},[0,1,2,3].map(function(t){return r.a.createElement("div",{key:t,className:"date-box"},e.currentGuess.charAt(t))}))};var g=function(e){var t=e.guess,n=e.hasStarted,a=(e.hasGuessed,e.oldGuesses),s=e.trueYear,c=e.wonRound,u=e.songData;return r.a.createElement("div",null,r.a.createElement("div",{className:"box"},r.a.createElement(m,{oldGuesses:a,trueYear:s})),r.a.createElement("div",null,r.a.createElement(b,{hasStarted:n,currentGuess:t,wonRound:c,songData:u})))};var v=function(e){var t=Object(a.useRef)(new Audio(e.songLink)),n=Object(a.useRef)(!1);return Object(a.useEffect)(function(){n.current?(t.current.pause(),t.current=new Audio(e.songLink),t.current.play()):n.current=!0},[e.songLink]),r.a.createElement("div",null,r.a.createElement("div",{className:"play-button"},r.a.createElement("img",{src:"./stealie.png",alt:"",style:{width:"150px"}})))};var p=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!0),o=Object(d.a)(c,2),m=o[0],b=o[1],p=Object(a.useState)(""),E=Object(d.a)(p,2),j=(E[0],E[1],Object(a.useState)("0")),O=Object(d.a)(j,2),h=(O[0],O[1],Object(a.useState)([])),w=Object(d.a)(h,2),x=w[0],k=w[1],y=Object(a.useState)(!1),S=Object(d.a)(y,2),L=(S[0],S[1],Object(a.useState)("19")),D=Object(d.a)(L,2),Y=D[0],G=D[1],N=Object(a.useState)([]),A=Object(d.a)(N,2),R=A[0],B=A[1],H=Object(a.useState)(!1),I=Object(d.a)(H,2),J=I[0],K=I[1];Object(a.useEffect)(function(){n&!m?(function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a,r,s,c,u,o,l,d,f,m,b;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.relisten.net/api/v2/artists/grateful-dead/shows/random");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.next=8,a.sources[0];case 8:return r=e.sent,e.next=11,a.year.year;case 11:return s=e.sent,e.next=14,a.venue.name;case 14:return c=e.sent,e.next=17,r.sets;case 17:return u=e.sent,e.next=20,u[0].tracks;case 20:return o=e.sent,e.next=23,o.length;case 23:return l=e.sent,e.next=26,Math.floor(Math.random()*l);case 26:return d=e.sent,e.next=29,o[d];case 29:return f=e.sent,e.next=32,f.mp3_url;case 32:m=e.sent,b={songLink:m,songTitle:f.title,songDate:r.display_date,songYear:s,songLocation:c},k(b);case 35:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(),B([]),G("19")):s(!0)},[m]),Object(a.useEffect)(function(){1==J&&(1==m?(b(!1),K(!1)):(Y==x.songYear&&b(!0),4==Y.length&&(B(function(e){return[].concat(Object(u.a)(e),[Y])}),G("19")),K(!1)))},[J]);var M=function(e,t){G(function(t){return t.length<4?t+e:t})},T=function(){G(function(e){return e.length>2?e.slice(0,-1):e})},U=function(){K(!0)};return r.a.createElement("div",null,r.a.createElement(v,{songLink:x.songLink}),r.a.createElement(g,{guess:Y,hasStarted:n,hasGuessed:J,oldGuesses:R,trueYear:x.songYear,wonRound:m,songData:x}),r.a.createElement(f,{handleKeyUp:function(e){/^[0-9]/.test(e.key)&&M(e.key),/^Backspace$/.test(e.key)&&T(),/^Enter$/.test(e.key)&&U()}}))},E=r.a.createElement(p,null);c.a.render(E,document.getElementById("root"))},7:function(e,t,n){e.exports=n(16)}},[[7,2,1]]]);
//# sourceMappingURL=main.2d63bf0f.chunk.js.map