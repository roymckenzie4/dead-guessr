(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(2),c=n.n(s),o=(n(12),n(6)),u=n(3),l=n.n(u),i=n(5),d=n(1);var m=function(e){return Object(a.useEffect)(function(){var t=function(t){e.handleKeyUp(t)};return window.document.addEventListener("keyup",t),function(){window.document.removeEventListener("keyup",t)}},[]),null};var g=function(e){return e.oldGuesses.map(function(t){return r.a.createElement("div",{className:"date-row"},[0,1,2,3].map(function(n){return r.a.createElement("div",{key:t+n,className:t===e.trueYear?"date-box date-box-old color-correct":Math.abs(t-e.trueYear)<3?"date-box date-box-old color-close":"date-box date-box-old color-far"},t.charAt(n))}))})};var f=function(e){return"playing"===e.result?r.a.createElement("div",{className:"date-row"},[0,1,2,3].map(function(t){return r.a.createElement("div",{key:t,className:"date-box"},e.currentGuess.charAt(t))})):"start"===e.result?r.a.createElement("div",null,r.a.createElement("div",{className:"text"},r.a.createElement("span",null," hit enter to begin "),r.a.createElement("span",{style:{fontSize:"2rem"}}," correct answers shown in ",r.a.createElement("span",{className:"color-correct"},"green")),r.a.createElement("span",{style:{fontSize:"2rem"}}," guesses within three years are shown in ",r.a.createElement("span",{className:"color-close"},"yellow")),r.a.createElement("span",{style:{fontSize:"2rem"}}," other guesses are shown in ",r.a.createElement("span",{className:"color-far"},"red")))):"won"===e.result?r.a.createElement("div",{className:"text"},"Yes! It was ",e.songData.songTitle," from  ",e.songData.songDate,"  at ",e.songData.songLocation,r.a.createElement("br",null),"Hit enter to play again..."):"lost"===e.result?r.a.createElement("div",{className:"text"},"Not quite... It was ",e.songData.songTitle," from  ",e.songData.songDate,"  at ",e.songData.songLocation,r.a.createElement("br",null),"Hit enter to play again..."):r.a.createElement("div",null)};var b=function(e){var t=e.guess,n=e.hasStarted,a=(e.hasGuessed,e.oldGuesses),s=e.trueYear,c=e.result,o=e.songData;return r.a.createElement("div",null,r.a.createElement("div",{className:"box"},r.a.createElement(g,{oldGuesses:a,trueYear:s})),r.a.createElement("div",null,r.a.createElement(f,{hasStarted:n,currentGuess:t,result:c,songData:o})))};var p=function(e){var t=Object(a.useRef)(new Audio(e.songLink)),n=Object(a.useRef)(!1);return Object(a.useEffect)(function(){n.current?(t.current.pause(),t.current=new Audio(e.songLink),t.current.play()):n.current=!0},[e.songLink]),r.a.createElement("div",null,r.a.createElement("div",{className:"play-button"},r.a.createElement("img",{src:"./stealie.png",alt:"",style:{width:"150px"}})))};var E=function(e){var t=e.score;return 1==e.display?r.a.createElement("div",null,r.a.createElement("div",{className:"score-text"},"Score: ",t)):r.a.createElement("div",null)};var v=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)("start"),u=Object(d.a)(c,2),g=u[0],f=u[1],v=Object(a.useState)(0),h=Object(d.a)(v,2),w=h[0],j=h[1],x=Object(a.useState)(!1),O=Object(d.a)(x,2),y=O[0],k=O[1],S=Object(a.useState)(""),N=Object(d.a)(S,2),D=(N[0],N[1],Object(a.useState)("0")),L=Object(d.a)(D,2),Y=(L[0],L[1],Object(a.useState)([])),G=Object(d.a)(Y,2),_=G[0],A=G[1],z=Object(a.useState)(!1),I=Object(d.a)(z,2),M=(I[0],I[1],Object(a.useState)("19")),T=Object(d.a)(M,2),B=T[0],H=T[1],J=Object(a.useState)([]),K=Object(d.a)(J,2),R=K[0],U=K[1],$=Object(a.useState)(!1),q=Object(d.a)($,2),C=q[0],F=q[1];Object(a.useEffect)(function(){var e=function(){var e=Object(i.a)(l.a.mark(function e(t){var n,a,r,s,c,o,u,i,d,m,g,f,b,p,E,v,h;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://relistenapi.alecgorge.com/api/v2/artists/grateful-dead/songs/18552");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.next=8,a.shows;case 8:return r=e.sent,e.next=11,r.length;case 11:return s=e.sent,e.next=14,Math.floor(Math.random()*s);case 14:return c=e.sent,e.next=17,r[c];case 17:return o=e.sent,e.next=20,"https://relistenapi.alecgorge.com/api/v3/shows/";case 20:return e.t0=e.sent,e.t1=o.uuid,u=e.t0+e.t1,e.next=25,fetch(u);case 25:return i=e.sent,e.next=28,i.json();case 28:return d=e.sent,e.next=31,d.sources[0];case 31:return m=e.sent,e.next=34,d.year.year;case 34:return g=e.sent,e.next=37,d.venue.name;case 37:return f=e.sent,e.next=40,m.sets;case 40:return b=e.sent,e.next=43,b[0].tracks;case 43:return p=e.sent,e.next=46,p.filter(function(e){return"sugar-magnolia"==e.slug})[0];case 46:return E=e.sent,console.log(E),e.next=50,E.mp3_url;case 50:v=e.sent,h={songLink:v,songTitle:E.title,songDate:m.display_date,songYear:g,songLocation:f},A(h);case 53:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();n&"new_round"==g?(e(),U([]),H("19"),f("playing")):s(!0)},[g]),Object(a.useEffect)(function(){1==C&&("start"==g&&(f("new_round"),k(!0),F(!1)),"won"==g&&(f("new_round"),F(!1)),"lost"==g?(f("new_round"),F(!1)):(4==B.length&&(U(function(e){return[].concat(Object(o.a)(e),[B])}),H("19"),B==_.songYear?(f("won"),j(w+4-(R.length+1))):R.length+1==3&&f("lost")),F(!1)))},[C]);var P=function(e,t){H(function(t){return t.length<4?t+e:t})},Q=function(){H(function(e){return e.length>2?e.slice(0,-1):e})},V=function(){F(!0)};return r.a.createElement("div",null,r.a.createElement(E,{score:w,display:y}),r.a.createElement(p,{songLink:_.songLink}),r.a.createElement(b,{guess:B,hasStarted:n,hasGuessed:C,oldGuesses:R,trueYear:_.songYear,result:g,songData:_}),r.a.createElement(m,{handleKeyUp:function(e){/^[0-9]/.test(e.key)&&P(e.key),/^Backspace$/.test(e.key)&&Q(),/^Enter$/.test(e.key)&&V()}}))},h=r.a.createElement(v,null);c.a.render(h,document.getElementById("root"))},7:function(e,t,n){e.exports=n(16)}},[[7,2,1]]]);
//# sourceMappingURL=main.aea04dc1.chunk.js.map